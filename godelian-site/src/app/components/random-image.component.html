<div class="card">
  <div class="card-body">
    <h2 class="card-title">Random Image</h2>

    <button class="btn btn-primary me-2" (click)="fetchRandomImage()" [disabled]="loading">
      {{ loading ? 'Loading...' : 'Get Random Image' }}
    </button>

    <div *ngIf="errorMsg" class="alert alert-danger mt-3">
      {{ errorMsg }}
    </div>
    <div *ngIf="record" class="mt-3">
      <p><strong>IP Address:</strong> {{ record.IPAddress }}</p>
      <p><strong>Hostname:</strong> {{ record.Hostname }}</p>
      <p><strong>Found By Client:</strong> {{ record.FoundByClientId }}</p>
      <p><strong>Found At:</strong> {{ record.FoundAt | date:'short' }}</p>
    </div>
    <div *ngIf="imageData" class="mt-3 text-center">
      <img [src]="'data:image/png;base64,' + imageData" alt="Random" class="img-fluid" />
    </div>
  </div>
</div>